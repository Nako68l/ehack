<div class="main-wrapper" *ngIf="recipes">
  <div class="meal-title">
    Breakfast
  </div>
  <div class="meal-block">
    <div class="meal-card" *ngFor="let recipe of recipes.breakfast">
      <div class="meal-card-content-wrapper">
        <button class="add-to-history-btn" mat-mini-fab color="accent"><i class="fa fa-plus"></i></button>
        <img src="{{recipe.recipe.image}}" alt="recipe.recipe.label">
        <div class="meal-card-content">
          <div class="meal-card-title">{{recipe.recipe.label}}</div>
          <div class="meal-card-controls">
            <button mat-button color="primary" (click)="recipe.showPopup = true">Ingredients</button>
            <button mat-button color="primary" (click)="window.open(recipe.recipe.url,'_blank')">Recipe</button>
          </div>
        </div>
      </div>
      <div class="meal-card-ingredients-wrapper" [hidden]="!recipe?.showPopup">
        <i class="fa fa-times pointer" (click)="recipe.showPopup = false"></i>
        <div class="ingredients">
          <div class="ingredient pointer" (click)="line.checked = !line.checked"
               [ngClass]="{'class1' : !!line?.checked}"
               *ngFor="let line of recipe.recipe.ingredients">
            <mat-checkbox color="primary" [(ngModel)]="line.checked"></mat-checkbox>
            <span>{{line.text}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="meal-title">
    Dinner
  </div>
  <div class="meal-block">
    <div class="meal-card" *ngFor="let recipe of recipes.dinner">
      <div class="meal-card-content-wrapper">
        <button class="add-to-history-btn" mat-mini-fab color="primary"><i class="fa fa-plus"></i></button>

        <img src="{{recipe.recipe.image}}" alt="recipe.recipe.label">
        <div class="meal-card-content">
          <div class="meal-card-title">{{recipe.recipe.label}}</div>
          <div class="meal-card-controls">
            <button mat-button color="primary" (click)="recipe.showPopup = true">Ingredients</button>
            <button mat-button color="primary" (click)="window.open(recipe.recipe.url,'_blank')">Recipe</button>
          </div>
        </div>
      </div>
      <div class="meal-card-ingredients-wrapper" [hidden]="!recipe?.showPopup">
        <i class="fa fa-times pointer" (click)="recipe.showPopup = false"></i>
        <div class="ingredients">
          <div class="ingredient pointer" (click)="line.checked = !line.checked"
               [ngClass]="{'class1' : !!line?.checked}"
               *ngFor="let line of recipe.recipe.ingredients">
            <mat-checkbox color="primary" [(ngModel)]="line.checked"></mat-checkbox>
            <span>{{line.text}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="meal-title">
    Supper
  </div>
  <div class="meal-block">
    <div class="meal-card" *ngFor="let recipe of recipes.supper">
      <div class="meal-card-content-wrapper">
        <button class="add-to-history-btn" mat-mini-fab color="primary"><i class="fa fa-plus"></i></button>
        <img src="{{recipe.recipe.image}}" alt="recipe.recipe.label">
        <div class="meal-card-content">
          <div class="meal-card-title">{{recipe.recipe.label}}</div>
          <div class="meal-card-controls">
            <button mat-button color="primary" (click)="recipe.showPopup = true">Ingredients</button>
            <button mat-button color="primary" (click)="window.open(recipe.recipe.url,'_blank')">Recipe</button>
          </div>
        </div>
      </div>
      <div class="meal-card-ingredients-wrapper" [hidden]="!recipe?.showPopup">
        <i class="fa fa-times pointer" (click)="recipe.showPopup = false"></i>
        <div class="ingredients">
          <div class="ingredient pointer" (click)="line.checked = !line.checked"
               [ngClass]="{'class1' : !!line?.checked}"
               *ngFor="let line of recipe.recipe.ingredients">
            <mat-checkbox color="primary" [(ngModel)]="line.checked"></mat-checkbox>
            <span>{{line.text}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
